# 小样本线路时序预测 - 树模型集成配置
# 基于 XGBoost + LightGBM + Ridge Regression

# 数据配置
data:
  data_path: 'f:/Pytorch/Dataset/visitordata.csv'
  route_col: 'route_id'
  date_col: 'date'
  target_col: 'visitor_count'
  
  # 时序切分比例（前向验证）
  train_ratio: 0.67  # 约 400/600
  val_ratio: 0.17    # 约 100/600
  test_ratio: 0.16   # 约 100/600

# 训练配置
training:
  use_log_transform: true  # 对目标变量进行对数变换（处理偏度）
  
  # XGBoost 参数
  xgboost:
    max_depth: 4
    learning_rate: 0.05
    n_estimators: 500
    subsample: 0.8
    colsample_bytree: 0.8
    reg_alpha: 1.0  # L1正则化
    reg_lambda: 2.0  # L2正则化
    min_child_weight: 3
    gamma: 0.1
  
  # LightGBM 参数
  lightgbm:
    max_depth: 4
    learning_rate: 0.05
    n_estimators: 500
    num_leaves: 15
    subsample: 0.8
    colsample_bytree: 0.8
    reg_alpha: 1.0
    reg_lambda: 2.0
    min_child_samples: 10
  
  # Ridge Regression 参数
  ridge:
    alpha: 10.0

# 集成配置
ensemble:
  optimize_weights: true  # 是否在验证集上优化权重
  # 如果不优化，使用以下默认权重
  default_weights:
    xgboost: 0.4
    lightgbm: 0.4
    ridge: 0.2

# 输出配置
output:
  save_dir: 'outputs'
  plot_feature_importance: true
  top_n_features: 20